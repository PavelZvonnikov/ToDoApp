{"remainingRequest":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pavel/Documents/Vue/Weather widget/Виджет погоды/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/src/App.vue","mtime":1570099493806},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pavel/Documents/Vue/Weather widget/Виджет погоды/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nul {\n  margin-left: 0;\n  padding-left: 0; \n }\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div class=\"wraper\">\n    <Info />\n    <Form \n      :weatherMethod=\"gettingWeather\" \n      :inputChange=\"inputChange\" \n      :city=\"city\"\n    />\n    <ul v-if=\"weatherFlag\">\n      <Weather \n        v-for=\"item in arr\"\n        :obj=\"item\"\n        :key=\"item.id\"\n      />\n    </ul>\n    <p v-if=\"this.flag\">Введите название города</p>\n  </div>  \n</template>\n\n<script>\nimport Info from './components/Info.vue';\nimport Form from './components/Form.vue';\nimport Weather from './components/Weather.vue';\n\nexport default {\n  name: 'app',\n  components: {\n    Info,\n    Form,\n    Weather\n  },\n  data() {\n    return {\n      arr: [],\n      key: '23fbf964c1eb2fa295dd50b21b675122',\n      city: '',\n      flag: false,\n      weatherFlag: false,\n      id: 0,\n    }\n  },\n  methods: {\n    gettingWeather: async function (e) {\n      e.preventDefault();\n      if (this.city) {\n        const link = await \n        fetch(`https://api.openweathermap.org/data/2.5/weather?q=${this.city}&appid=${this.key}&units=metric`);\n        const data = await link.json();\n\n        const route = await \n        fetch(`https://kladr-api.com/api.php?query=Москва&contentType=city&withParent=1`);\n        const data1 = await route.json();   \n      \n        console.log(data1);\n\n        const synSunset = data.sys.sunset;\n\n        const date = new Date(synSunset * 1000);\n        const sunset = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\n\n        const obj = {};\n\n        obj.temp = data.main.temp;\n        obj.city = data.name;\n        obj.country = data.sys.country;\n        obj.pressure = data.main.pressure;\n        obj.sunset = sunset;\n        obj.id = this.id;\n\n        this.arr.push(obj);\n        this.weatherFlag = true;\n        this.id++;\n        // console.log(this.arr.some(function(elem) {\n        //   return elem.city == this.city \n        // }));\n      }\n      else if (this.city == '') {\n        this.flag = true;\n        this.weatherFlag = false;\n      }  \n    },\n    inputChange: async function (e) {\n      // e.preventDefault();\n      this.city = e.target.value;\n      // const link = await \n      //   fetch(`https://kladr-api.com/api.php?query=${this.city}&contentType=city&withParent=1`);\n      // const data = await link.json();   \n      \n      // console.log(data);\n      if (this.city) {\n        this.flag = false;\n      }\n    },\n  },\n}\n</script>\n\n<style>\n  ul {\n    margin-left: 0;\n    padding-left: 0; \n   }\n</style>\n"]}]}